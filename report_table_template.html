<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Rekapitulasi Monitoring LKD Sultra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; font-size: 10px; }
        @page { size: A4 landscape; margin: 15mm; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background-color: #f8fafc; text-transform: uppercase; font-size: 8px; font-weight: 800; border: 1px solid #e2e8f0; padding: 8px; }
        td { border: 1px solid #e2e8f0; padding: 6px; vertical-align: middle; }
        .status-badge { padding: 2px 6px; border-radius: 4px; font-weight: 800; font-size: 7px; text-transform: uppercase; }
        .aktif { background-color: #dcfce7; color: #166534; }
        .kurang { background-color: #fffbeb; color: #92400e; }
        .tidak { background-color: #fee2e2; color: #991b1b; }
        .kop-title { text-align: center; border-bottom: 3px double black; padding-bottom: 10px; margin-bottom: 20px; }
    </style>
</head>
<body class="bg-white">

    <div class="kop-title">
        <h1 class="text-lg font-black uppercase">Laporan Hasil Monitoring LKD/LAD</h1>
        <h2 class="text-md font-bold uppercase text-blue-900">Provinsi Sulawesi Tenggara</h2>
        <p class="text-[9px] mt-1 italic text-slate-500">Dicetak pada: <?= tgl_cetak ?></p>
    </div>

    <table>
        <thead>
            <tr>
                <th style="width: 30px;">No.</th>
                <th>Kabupaten</th>
                <th>Kecamatan</th>
                <th>Desa/Kelurahan</th>
                <th>Nama Lembaga (LKD/LAD)</th>
                <th style="width: 60px; text-align: center;">Skor</th>
                <th style="text-align: center;">Indikator</th>
                <th style="width: 80px; text-align: center;">Status</th>
            </tr>
        </thead>
        <tbody>
            <? data.forEach((r, index) => { ?>
            <tr>
                <td style="text-align: center;"><?= index + 1 ?></td>
                <td class="uppercase"><?= r.kab ?></td>
                <td class="uppercase"><?= r.kec ?></td>
                <td class="uppercase font-bold"><?= r.des ?></td>
                <td class="uppercase"><?= r.nama ?></td>
                <td style="text-align: center; font-weight: 800;"><?= r.skor ?></td>
                <td style="font-size: 7px;">
                    <div style="display: flex; gap: 2px; justify-content: center;">
                        <span style="color: <?= r.ind.sk ? '#10b981' : '#cbd5e1' ?>;">SK</span>|
                        <span style="color: <?= r.ind.prd ? '#10b981' : '#cbd5e1' ?>;">PRD</span>|
                        <span style="color: <?= r.ind.srn ? '#10b981' : '#cbd5e1' ?>;">SRN</span>|
                        <span style="color: <?= r.ind.kps ? '#10b981' : '#cbd5e1' ?>;">KPS</span>|
                        <span style="color: <?= r.ind.dok ? '#10b981' : '#cbd5e1' ?>;">DOK</span>|
                        <span style="color: <?= r.ind.par ? '#10b981' : '#cbd5e1' ?>;">PAR</span>|
                        <span style="color: <?= r.ind.ang ? '#10b981' : '#cbd5e1' ?>;">ANG</span>|
                        <span style="color: <?= r.ind.lap ? '#10b981' : '#cbd5e1' ?>;">LAP</span>
                    </div>
                </td>
                <td style="text-align: center;">
                    <span class="status-badge <?= r.status === 'AKTIF' ? 'aktif' : (r.status === 'KURANG AKTIF' ? 'kurang' : 'tidak') ?>">
                        <?= r.status ?>
                    </span>
                </td>
            </tr>
            <? }) ?>
        </tbody>
    </table>

    <div style="margin-top: 30px; display: flex; justify-content: flex-end;">
        <div style="text-align: center; width: 200px;">
            <p class="font-bold uppercase">Mengetahui,</p>
            <p class="text-[8px] mb-12 uppercase">Penanggung Jawab SIMONI</p>
            <div style="border-bottom: 1px solid black; margin-bottom: 4px;"></div>
            <p class="font-black uppercase">Sistem Monitoring Sultra</p>
        </div>
    </div>

</body>
</html>